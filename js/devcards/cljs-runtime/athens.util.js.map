{"version":3,"sources":["athens/util.cljc"],"mappings":";;AAGA,AAAA,AAAMA;AAAN,AAEE,AAAA,AAACC,AAAK,AAAK,AAACC;;AAGd,AAAA,AAAMC;AAAN,AAEE,AAAI,AAAAC;;AAGN,AAAA,AAAMC,AAEHC,AAAQC;AAFX,AAGE,AAAI,AAAG,AAAID,AAAoB,AAAIC;AAEjC,AAAM,AAAIA,AAAsB,AAAID;;AAEpC,AAAME,AAAa,AAAG,AAAIF,AAAoB,AAAIA;AAC5CG,AAAa,AAAG,AAAIF,AAAsB,AAAIA;AADpD,AAGE,AAAM,AAAGE,AAAaD;AAAtB,AAEE,AACE,AAAID,AACJ,AAAGC,AAAa,AAAID;;AAJxB","names":["athens.util/gen-block-uid","cljs.core.subs.cljs$core$IFn$_invoke$arity$2","cljs.core/random-uuid","athens.util/now-ts","js/Date","athens.util/scroll-if-needed","element","container","offsetBottom","scrollBottom"],"sourcesContent":["(ns athens.util)\n\n\n(defn gen-block-uid\n  []\n  (subs (str (random-uuid)) 27))\n\n\n(defn now-ts\n  []\n  (-> (js/Date.) .getTime))\n\n\n(defn scroll-if-needed\n  ;; https://stackoverflow.com/a/45851497\n  [element container]\n  (if (< (.. element -offsetTop) (.. container -scrollTop))\n    ;; If the element is higher than its container's top...\n    (set! (.. container -scrollTop) (.. element -offsetTop))\n    ;; Otherwise, find the bottom of the element and the container...\n    (let [offsetBottom (+ (.. element -offsetTop) (.. element -offsetHeight))\n          scrollBottom (+ (.. container -scrollTop) (.. container -offsetHeight))]\n      ;; ..and if it's lower than the container's bottom\n      (when (< scrollBottom offsetBottom)\n        ;; Scroll the container so the element is in view\n        (set!\n          (.. container -scrollTop)\n          (- offsetBottom (.. container -offsetHeight)))))))\n"]}